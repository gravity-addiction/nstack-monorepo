<form name="form" #loginForm="ngForm" novalidate>
  <div class="form-group" [ngClass]="{ 'has-error': loginAttempted && !username.valid }">
    <label for="username">Login</label>
    <input type="text" class="form-control" name="username" [(ngModel)]="model.username" #userEle #username="ngModel" (keyup.enter)="passEle.focus()" required autofocus />
    <div *ngIf="loginAttempted && !username.valid" class="help-block">Username is required</div>
  </div>
  <div class="form-group" [ngClass]="{ 'has-error': loginAttempted && !password.valid }">
    <label for="password">Password</label>
    <input type="password" class="form-control" name="password" #passEle [(ngModel)]="model.password" #password="ngModel" required (keyup.enter)="login()" />
    <div *ngIf="loginAttempted && !password.valid" class="help-block">Password is required</div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-1">
      <label class="checkbox p-2 m-0 pl-3" style="cursor: pointer;" [ngClass]="{'bg-primary': !!model.rememberme, 'text-secondary': !!model.rememberme}" (click)="model.rememberme = !model.rememberme">
        <fa-icon [icon]='["fas", "check"]' *ngIf="model.rememberme"></fa-icon>
        <fa-icon [icon]='["far", "circle"]' *ngIf="!model.rememberme"></fa-icon>
        Remember Me
      </label>
    </div>
  </div>
  <div class="form-group">
    <button [disabled]="loading" class="btn btn-primary">
      <span *ngIf="!loading" (click)="login();">Login</span>
      <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </button>
    <span *ngIf="!authFailed && loginAttempted && !loginForm.form.valid" class="bg-danger p-3 ml-2">Missing Username or Password field.</span>
    <span *ngIf="authFailed" class="bg-danger p-3 ml-2">Failed Login Attempt, {{ authFailed }}</span>
    <!-- <a [routerLink]="['/register']" class="btn btn-link">Register</a>
    <a [routerLink]="['/forgot-password']" class="btn btn-link">Forgot Password</a> -->
    <!-- <div id="login-form"></div> -->
  </div>
</form>

